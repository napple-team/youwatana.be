(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{242:function(t,e,n){var content=n(248);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(58).default)("4171752e",content,!0,{sourceMap:!1})},243:function(t,e,n){var content=n(250);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(58).default)("61f8cdac",content,!0,{sourceMap:!1})},244:function(t,e,n){var content=n(252);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(58).default)("4b9eff5c",content,!0,{sourceMap:!1})},245:function(t,e,n){var content=n(255);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(58).default)("9c5a7e5a",content,!0,{sourceMap:!1})},246:function(t,e,n){var content=n(257);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(58).default)("62af8bf7",content,!0,{sourceMap:!1})},247:function(t,e,n){"use strict";n(242)},248:function(t,e,n){var o=n(57)(!1);o.push([t.i,".yosoro .yosoro-youtube-from-url[data-v-782fc4ee]{display:none}.yosoro-hover .yosoro-youtube-from-url[data-v-782fc4ee]{display:block;-webkit-animation:fade-in-data-v-782fc4ee .5s ease;animation:fade-in-data-v-782fc4ee .5s ease}@-webkit-keyframes fade-in-data-v-782fc4ee{0%{opacity:0}to{opacity:1}}@keyframes fade-in-data-v-782fc4ee{0%{opacity:0}to{opacity:1}}",""]),t.exports=o},249:function(t,e,n){"use strict";n(243)},250:function(t,e,n){var o=n(57)(!1);o.push([t.i,'ul[data-v-f9833664]{position:relative;margin:0;padding:0;width:100%;height:0;overflow:visible;list-style:none}ul>li[data-v-f9833664]{margin:0 auto;width:200px;height:70px;line-height:70px;font-size:1.3rem;color:#56c7f2;border:2px solid #56c7f2;border-radius:80%;-webkit-animation:balloon-animation-data-v-f9833664 3s ease-out;animation:balloon-animation-data-v-f9833664 3s ease-out}ul>li[data-v-f9833664],ul>li[data-v-f9833664]:after{position:absolute;right:0;left:0;display:block;padding:0;background-color:#fff}ul>li[data-v-f9833664]:after{content:"";bottom:-6px;margin:auto;width:8px;height:8px;border-color:#56c7f2;border-style:solid;border-width:0 2px 2px 0;transform:rotate(45deg)}@-webkit-keyframes balloon-animation-data-v-f9833664{0%{bottom:0;opacity:1}50%{opacity:1}to{bottom:100px;opacity:0}}@keyframes balloon-animation-data-v-f9833664{0%{bottom:0;opacity:1}50%{opacity:1}to{bottom:100px;opacity:0}}',""]),t.exports=o},251:function(t,e,n){"use strict";n(244)},252:function(t,e,n){var o=n(57)(!1);o.push([t.i,'.counter[data-v-5bc1ddb0]{width:100%}.yosoro-button[data-v-5bc1ddb0]{-webkit-animation:waggle-data-v-5bc1ddb0 7s ease 1s infinite;animation:waggle-data-v-5bc1ddb0 7s ease 1s infinite}.yosoro-button[data-v-5bc1ddb0]:before{content:"全速前進？"}.yosoro-button[data-v-5bc1ddb0]:hover:not(:disabled){-webkit-animation:none;animation:none}.yosoro-button[data-v-5bc1ddb0]:hover:not(:disabled):before{content:"ヨーソロー！"}.sound-button[data-v-5bc1ddb0]{position:fixed;top:1rem;right:1rem}@-webkit-keyframes waggle-data-v-5bc1ddb0{0%{transform:none}12.5%{transform:rotate(-2deg) scale(1.05)}15%{transform:rotate(5deg) scale(1.05)}16.25%{transform:rotate(-2deg) scale(1.05)}17.5%{transform:rotate(2deg) scale(1.05)}18.75%{transform:rotate(-2deg) scale(1.05)}20%{transform:rotate(0) scale(1.05)}25%{transform:rotate(0) scale(1)}to{transform:none}}@keyframes waggle-data-v-5bc1ddb0{0%{transform:none}12.5%{transform:rotate(-2deg) scale(1.05)}15%{transform:rotate(5deg) scale(1.05)}16.25%{transform:rotate(-2deg) scale(1.05)}17.5%{transform:rotate(2deg) scale(1.05)}18.75%{transform:rotate(-2deg) scale(1.05)}20%{transform:rotate(0) scale(1.05)}25%{transform:rotate(0) scale(1)}to{transform:none}}',""]),t.exports=o},253:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0MDAgNDAwIj48ZGVmcz48c3R5bGU+LmNscy0xe2ZpbGw6I2ZmZjt9PC9zdHlsZT48L2RlZnM+PHRpdGxlPkFydGJvYXJkIDE8L3RpdGxlPjxnIGlkPSJMb2dvX0ZJWEVEIiBkYXRhLW5hbWU9IkxvZ28g4oCUIEZJWEVEIj48cGF0aCBjbGFzcz0iY2xzLTEiIGQ9Ik0xMzUuMzIsMzQxLjY4YzEzMS41OCwwLDIwMy41My0xMDksMjAzLjUzLTIwMy41MywwLTMuMS0uMDYtNi4xOC0uMi05LjI1YTE0NS41NCwxNDUuNTQsMCwwLDAsMzUuNjktMzcsMTQyLjc5LDE0Mi43OSwwLDAsMS00MS4wOCwxMS4yNiw3MS43OCw3MS43OCwwLDAsMCwzMS40Ni0zOS41NywxNDMuMzYsMTQzLjM2LDAsMCwxLTQ1LjQyLDE3LjM2LDcxLjYsNzEuNiwwLDAsMC0xMjEuOTEsNjUuMjRBMjAzLjA5LDIwMy4wOSwwLDAsMSw0OS45Myw3MS40MmE3MS41OSw3MS41OSwwLDAsMCwyMi4xNCw5NS41QTcxLDcxLDAsMCwxLDM5LjY4LDE1OGMwLC4zLDAsLjYsMCwuOTFBNzEuNTcsNzEuNTcsMCwwLDAsOTcuMDUsMjI5YTcxLjQyLDcxLjQyLDAsMCwxLTMyLjMsMS4yMyw3MS42MSw3MS42MSwwLDAsMCw2Ni44Myw0OS42OCwxNDMuNTQsMTQzLjU0LDAsMCwxLTg4Ljg1LDMwLjYyLDE0NS42MiwxNDUuNjIsMCwwLDEtMTcuMDYtMSwyMDIuNTIsMjAyLjUyLDAsMCwwLDEwOS42NSwzMi4xMyIvPjwvZz48L3N2Zz4K"},254:function(t,e,n){"use strict";n(245)},255:function(t,e,n){var o=n(57)(!1);o.push([t.i,".twitter-icon[data-v-03d81882]{width:1.3rem;height:1.3rem;margin-right:.3rem}.btn-twitter[data-v-03d81882]{border-color:#1da1f2;background-color:#1da1f2}",""]),t.exports=o},256:function(t,e,n){"use strict";n(246)},257:function(t,e,n){var o=n(57)(!1);o.push([t.i,'.fill-height[data-v-abf3b626]{min-height:100vh}.index[data-v-abf3b626]{position:relative;background-image:url(/wave-dark.svg);background-size:100px 100px;background-repeat:repeat-x;background-position-y:bottom;-webkit-animation:wave-background-animation-data-v-abf3b626 10s linear infinite;animation:wave-background-animation-data-v-abf3b626 10s linear infinite}.index[data-v-abf3b626]:before{right:20px;bottom:25px;z-index:1;width:150px;height:150px;background-image:url(/yosoro.svg);background-repeat:no-repeat;background-size:150px 150px;transform-origin:bottom center;-webkit-animation:wave-boat-animation-data-v-abf3b626 5s ease-in-out infinite;animation:wave-boat-animation-data-v-abf3b626 5s ease-in-out infinite}.index[data-v-abf3b626]:after,.index[data-v-abf3b626]:before{content:"";position:absolute;display:block}.index[data-v-abf3b626]:after{right:0;bottom:0;left:0;z-index:2;width:100%;height:100px;background-image:url(/wave-light.svg);background-size:100px 100px;background-repeat:repeat-x;background-position-y:bottom;-webkit-animation:wave-background-animation-data-v-abf3b626 6s linear infinite;animation:wave-background-animation-data-v-abf3b626 6s linear infinite;pointer-events:none}@-webkit-keyframes wave-background-animation-data-v-abf3b626{0%{background-position-x:100px}to{background-position-x:0}}@keyframes wave-background-animation-data-v-abf3b626{0%{background-position-x:100px}to{background-position-x:0}}@-webkit-keyframes wave-boat-animation-data-v-abf3b626{0%{transform:rotate(-5deg)}50%{transform:rotate(5deg)}to{transform:rotate(-5deg)}}@keyframes wave-boat-animation-data-v-abf3b626{0%{transform:rotate(-5deg)}50%{transform:rotate(5deg)}to{transform:rotate(-5deg)}}.index-content[data-v-abf3b626]{z-index:100}.text-you-color[data-v-abf3b626]{color:#56c7f2}',""]),t.exports=o},259:function(t,e,n){"use strict";n.r(e);var o=n(20),r=(n(59),n(151),n(258)),c={props:{mute:{type:Boolean,default:!1}},data:function(){return{initialized:!1,playerVars:{controls:0,disablekb:0,rel:0},loadVideoParams:{videoId:"oYk26y9lFjI",startSeconds:17.9,endSeconds:19},hover:!1}},computed:{yosoroPlayer:function(){return this.$refs.yosoroPlayer.player}},watch:{mute:function(t){t?this.yosoroPlayer.mute():this.yosoroPlayer.unMute()}},methods:{playerReady:function(){this.yosoroPlayer.mute(),this.yosoroPlayer.loadVideoById(this.loadVideoParams)},playerPlaying:function(t){this.initialized||(this.initialized=!0,this.$emit("ready",t))},playSound:function(){this.mute||this.yosoroPlayer.unMute(),this.yosoroPlayer.seekTo(this.loadVideoParams.startSeconds)}}},l=(n(247),n(50)),d=Object(l.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"yosoro",class:{"yosoro-hover":t.hover},on:{mouseenter:function(e){t.hover=!0},mouseleave:function(e){t.hover=!1}}},[n("youtube",{ref:"yosoroPlayer",staticClass:"yosoro-player",attrs:{width:"0",height:"0","player-vars":t.playerVars},on:{ready:t.playerReady,playing:t.playerPlaying}}),t._v(" "),t.initialized?[n("div",{staticClass:"d-inline-flex justify-content-end align-items-center"},[t._m(0),t._v(" "),n("b-button",{attrs:{pill:"",variant:"outline-secondary",pressed:t.mute},on:{"update:pressed":function(e){t.mute=e}}},[t.mute?n("span",[t._v("🔇")]):n("span",[t._v("🔊")])])],1)]:[n("b-button",{attrs:{pill:"",variant:"link"}},[n("b-spinner",{attrs:{variaant:"primary",type:"grow",small:""}})],1)]],2)}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"yosoro-youtube-from-url pr-2"},[n("a",{attrs:{href:"https://www.youtube.com/watch?v=oYk26y9lFjI"}},[t._v("\n          音声元の YouTube を開く\n        ")])])}],!1,null,"782fc4ee",null).exports,f=n(19),m=(n(1),n(162),{props:{balloon:{type:Object,default:function(){}}},computed:{key:function(){return this.balloon.key},identifier:function(){return this.balloon.identifier},count:function(){return this.balloon.count},isSelfCount:function(){return this.balloon.selfCount?"self-count":""}},created:function(){setTimeout(this.animationFinish,3e3)},methods:{animationFinish:function(){this.$emit("animationFinish",this.$el,this.key)}}}),v={components:{Balloon:Object(l.a)(m,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("li",{class:t.isSelfCount},[t._v("(*> ᴗ •*)ゞ +"+t._s(t.count))])}),[],!1,null,null,null).exports},props:{buffer:{type:Object,default:function(){}},identifier:{type:String,default:""}},data:function(){return{balloons:[]}},methods:{shiftBallons:function(element,t){this.balloons=this.balloons.filter((function(e){return e.key!==t}))}},watch:{buffer:function(t){for(var e=this,time=t.time,n=function(){var t=Object(f.a)(r[o],2),n=t[0],c=Object(f.a)(t[1],2),l=c[0],d=c[1];n>6&&retrurn,setTimeout((function(){e.balloons.push({key:"".concat(l,"::").concat(time),identifier:l,count:d,isSelfCount:l==e.identifier})}),500*n)},o=0,r=Object.entries(Object.entries(t.buffer));o<r.length;o++)n()}}},y=(n(249),{components:{Yosoro:d,Balloons:Object(l.a)(v,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",t._l(t.balloons,(function(e){return n("Balloon",{key:e.key,attrs:{balloon:e},on:{animationFinish:t.shiftBallons}})})),1)}),[],!1,null,"f9833664",null).exports},data:function(){return{raiseError:!1,counterChannel:null,disconnected:!0,identifier:null,count:{serverCount:0,notSendCount:0,serverSentCount:0},tweenedNumber:0,counterBuffer:{time:0,buffer:[]}}},created:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.getIdentifier();case 3:t.identifier=e.sent,console.log(t.identifier),n=setTimeout((function(){t.raiseError=!0}),5e3),t.counterChannel=t.$cable.subscriptions.create({channel:"CounterChannel",identifier:t.identifier},{connected:function(){t.disconnected=!1,clearTimeout(n)},received:function(e){return t.receivedCount(e)},rejected:function(){t.disconnected=!0},disconnected:function(data){t.disconnected=!0}}),t.intervalObject=setInterval(t.sendLocalCount,1e3),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0),t.raiseError=!0;case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))()},beforeDestroy:function(){this.counterChannel.unsubscribe(),clearInterval(this.intervalObject)},computed:{animatedCounter:function(){return this.tweenedNumber.toFixed(0)},displayCount:function(){return this.count.serverCount+this.localCount},localCount:function(){return this.count.serverSentCount+this.count.notSendCount}},methods:{handleClick:function(){this.count.notSendCount++,this.$refs.soundPlayer.playSound()},sendLocalCount:function(){this.count.notSendCount>0&&(this.counterChannel.perform("increment",{identifier:this.identifier,count:this.count.notSendCount}),this.count.serverSentCount+=this.count.notSendCount,this.count.notSendCount=0)},receivedCount:function(t){this.count.serverCount=t.count,"buffer"in t&&(this.$refs.soundPlayer.playSound(),this.counterBuffer={time:t.time,buffer:t.buffer},this.identifier in t.buffer&&(this.count.serverSentCount-=t.buffer[this.identifier]))},getIdentifier:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$axios.get("/generate_identifier");case 3:return n=e.sent,e.abrupt("return",n.data.identifier);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}},watch:{displayCount:function(t){r.a.to(this.$data,.5,{tweenedNumber:t,ease:"linear"})}}}),h=(n(251),Object(l.a)(y,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"counter"},[n("b-alert",{staticClass:"text-center",attrs:{variant:"danger",show:t.raiseError}},[n("p",{staticClass:"mb-0"},[t._v("予期せぬエラーが発生しました")])]),t._v(" "),n("div",{staticClass:"text-center py-3"},[t.disconnected?[n("div",[n("div",{staticClass:"d-inline-flex align-items-center"},[n("b-spinner",{attrs:{variant:"primary"}}),t._v(" "),n("span",{staticClass:"ml-3"},[t._v("Now Youding...")])],1)])]:[n("b-row",[n("b-col",{attrs:{cols:"12"}},[n("Balloons",{ref:"balloons",attrs:{buffer:t.counterBuffer,identifier:t.identifier}}),t._v(" "),n("div",{staticClass:"yosoro-counter display-3"},[t._v(t._s(t.animatedCounter))])],1)],1),t._v(" "),n("b-row",{staticClass:"justify-content-center"},[n("b-col",{attrs:{lg:"3",md:"4",sm:"8",cols:"12"}},[n("b-btn",{staticClass:"yosoro-button my-3",attrs:{variant:"primary",block:"",size:"lg"},on:{click:t.handleClick}},[n("span",{staticClass:"sr-only"},[t._v("(*> ᴗ •*)ゞ")])])],1)],1),t._v(" "),n("Yosoro",{ref:"soundPlayer",staticClass:"sound-button"})]],2)],1)}),[],!1,null,"5bc1ddb0",null).exports),w=(n(254),{components:{Counter:h,Social:Object(l.a)({},(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"mt-2"},[o("b-button",{staticClass:"btn-twitter d-inline-flex align-items-center",attrs:{size:"sm",variant:"primary",href:"https://twitter.com/intent/tweet?url=https://youwatana.be/&text=%E5%85%A8%E9%80%9F%E5%89%8D%E9%80%B2%EF%BC%81%E3%83%A8%E3%83%BC%E3%82%BD%E3%83%AD%E3%83%BC%EF%BC%81%EF%BC%81%20%28%2A%3E%20%E1%B4%97%20%E2%80%A2%2A%29%E3%82%9D%E3%82%99"}},[o("img",{staticClass:"twitter-icon",attrs:{src:n(253)}}),t._v(" "),o("span",[t._v("ツイート")])])],1)}),[],!1,null,"03d81882",null).exports}}),x=(n(256),Object(l.a)(w,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"index"},[n("b-container",{staticClass:"index-content"},[n("b-row",[n("b-col",{attrs:{cols:"12"}},[n("div",{staticClass:"d-flex flex-column justify-content-center align-items-center fill-height"},[n("h1",[n("span",{staticClass:"text-you-color"},[t._v("you")]),t._v("watana.be")]),t._v(" "),n("Counter"),t._v(" "),n("Social")],1)])],1)],1)],1)}),[],!1,null,"abf3b626",null));e.default=x.exports}}]);